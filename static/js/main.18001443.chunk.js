(this["webpackJsonpgloomhaven-decks"]=this["webpackJsonpgloomhaven-decks"]||[]).push([[0],{15:function(e,t,a){},26:function(e,t,a){e.exports=a(38)},31:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),s=a.n(c),o=a(23),l=a(8),i=(a(31),a(9)),m=a(10),d=a(6),u=a(11),h=a(12),f=a(7);a(15);var k=function(e){return r.a.createElement("div",{className:"m-2 Card Card-pop Card-shadow",onClick:function(t){t.preventDefault(),e.onClick&&e.onClick(e.name)}},r.a.createElement("img",{className:"Card-face",src:e.image,alt:e.name}))};function g(e){for(var t=Object(f.a)(e),a=t.length-1;a>0;a--){var n=Math.floor(Math.random()*(a+1)),r=[t[n],t[a]];t[a]=r[0],t[n]=r[1]}return t}var v=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={deck:[],shuffledDeck:[],drawnDeck:[]},n.drawCard=n.drawCard.bind(Object(d.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/gloomhaven-decks/gloomhaven/data/battle-goals.js").then((function(e){return e.json()})).then((function(t){var a=t.filter((function(e){return"battlegoal-back"!==e.name}));e.setState({deck:a,shuffledDeck:g(a),drawnDeck:[]})}),(function(e){console.error(e)}))}},{key:"drawCard",value:function(){var e=this.state.shuffledDeck.length>0?this.state.shuffledDeck:g(this.state.deck),t=this.state.shuffledDeck.length>0?this.state.drawnDeck:[];this.setState({deck:this.state.deck,drawnDeck:[e[0]].concat(Object(f.a)(t)),shuffledDeck:Object(f.a)(e.slice(1))})}},{key:"render",value:function(){var e=this.state.drawnDeck.map((function(e){return r.a.createElement(k,{key:e.name,image:"/gloomhaven-decks/gloomhaven/images/"+e.image,name:e.name})}));return r.a.createElement("div",{className:"flex flex-wrap flex-row"},r.a.createElement(k,{name:"Draw Battle Card",onClick:this.drawCard,image:"/gloomhaven-decks/gloomhaven/images/battle-goals/battlegoal-back.png"}),e)}}]),a}(r.a.Component),b=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={itemsDeckTo:14},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n}return Object(m.a)(a,[{key:"handleChange",value:function(e){this.setState({itemsDeckTo:parseInt(e.target.value)}),console.log(this.state.itemsDeckTo)}},{key:"render",value:function(){return r.a.createElement("div",{className:"background-map h-screen"},r.a.createElement("header",null,r.a.createElement("label",null,"Available items:",r.a.createElement("input",{type:"number",min:"1",max:"164",value:this.state.itemsDeckTo,onChange:this.handleChange}))),r.a.createElement(p,{to:this.state.itemsDeckTo}),r.a.createElement(v,null))}}]),a}(r.a.Component),p=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={deck:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/gloomhaven-decks/gloomhaven/data/items.js").then((function(e){return e.json()})).then((function(t){var a=t.filter((function(e){return e.name.match(/item #[1-9]\d{0,3}/)})).map((function(e){return{number:parseInt(e.name.match(/(\d+)/)[0]),name:e.name,image:"/gloomhaven-decks/gloomhaven/images/"+e.image}}));e.setState({deck:a})}),(function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.state.deck.filter((function(t){return t.number<=e.props.to})).map((function(e){return r.a.createElement(k,{key:e.number,image:e.image,name:e.name})}));return r.a.createElement("div",{className:"flex flex-wrap flex-row m-6"},t)}}]),a}(r.a.Component),D=b,w=a(21),C=a(22),E=a.n(C),j={SHUFFLE:["s","Ctrl+s"],DRAW:["d","Ctrl+d"]};function y(){return N(-5,5)+"px"}function O(){return N(-5,5)+"px"}function x(){return N(-5,20)+"deg"}function N(e,t){return Math.random()*(t-e)+e}var S=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={type:e.type,deck:[],shuffledDeck:[],drawnDeck:[],transform:[]},n.shuffle=n.shuffle.bind(Object(d.a)(n)),n.drawCard=n.drawCard.bind(Object(d.a)(n)),n.hotkeyHandlers={SHUFFLE:n.shuffle,DRAW:n.drawCard},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/gloomhaven-decks/gloomhaven/data/attack-modifiers.js").then((function(e){return e.json()})).then((function(t){var a=t.filter((function(e){return e.name.match(/am-m-\d+/)})).map((function(e){return{name:e.name,image:"/gloomhaven-decks/gloomhaven/images/"+e.image}}));e.setState({deck:a,shuffledDeck:g(a),drawnDeck:[],transform:a.map((function(e){return"rotate(".concat(x(),") translateX(").concat(y(),") translateY(").concat(O(),")")}))})}),(function(e){console.error(e)}))}},{key:"shuffle",value:function(){console.log("Shuffle!");var e=this.state.deck,t=g(e);this.setState({deck:e,shuffledDeck:t,drawnDeck:[],transform:t.map((function(e){return"rotate(".concat(x(),") translateX(").concat(y(),") translateY(").concat(O(),")")}))}),console.log(this.state)}},{key:"drawCard",value:function(){var e=this.state.shuffledDeck.length>0?this.state.shuffledDeck:g(this.state.deck),t=this.state.shuffledDeck.length>0?this.state.drawnDeck:[];this.setState({deck:this.state.deck,drawnDeck:[e[0]].concat(Object(f.a)(t)),shuffledDeck:Object(f.a)(e.slice(1)),transform:this.state.transform}),console.log(this.state)}},{key:"render",value:function(){var e=this,t=this.state.drawnDeck.map((function(t,a){return r.a.createElement("div",{className:"Card Card-shadow Card-anim absolute m-10",key:t.name,style:{zIndex:e.state.drawnDeck.length-a,transform:e.state.transform[e.state.drawnDeck.length-a]}},r.a.createElement("img",{className:"Card-face",draggable:"false",alt:a,src:t.image}))})),a=this.state.shuffledDeck.map((function(t,a){return r.a.createElement("div",{className:"Card Card-shadow absolute m-10",key:a,style:{zIndex:e.state.shuffledDeck.length-a,transform:e.state.transform[e.state.shuffledDeck.length-a]}},r.a.createElement("img",{className:"Card-face",draggable:"false",src:"/gloomhaven-decks/am-back.png",alt:"Attack Modifier"}))}));return r.a.createElement(w.HotKeys,{keyMap:j,handlers:this.hotkeyHandlers},r.a.createElement("div",{className:"bg-greenscreen h-screen flex"},r.a.createElement(E.a,{defaultPosition:{x:0,y:0},handle:".handle"},r.a.createElement("div",{className:"bg-black flex handle"},r.a.createElement("div",{className:"relative",style:{left:"0px"}},a),r.a.createElement("div",{className:"relative",style:{left:"220px"}},t)))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(o.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/monster"},r.a.createElement(S,{type:"monster"})),r.a.createElement(l.a,{exact:!0,path:"/"},r.a.createElement(D,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.18001443.chunk.js.map